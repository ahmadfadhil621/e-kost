---
description: Cross-cutting constraints that apply to ALL features in E-Kost
alwaysApply: true
---

# Cross-Cutting Constraints

These apply to every feature. See `specs/cross-cutting-constraints.md` for full details.

## Mobile-First

- All screens: 320px-480px width, single-column layout, no horizontal scroll
- All interactive elements: minimum 44x44px touch targets
- Font sizes and contrast must be readable without zoom

## i18n

- Never hardcode user-facing strings -- always use translation keys via `useTranslation()`
- Translation files: `locales/en.json`, `locales/id.json`
- All validation messages, errors, confirmations, and labels must be translatable
- Date/number/currency formatting must respect locale

## Data Integrity

- All timestamps in UTC
- Soft delete for tenant move-out (set `deletedAt`, never hard delete)
- Auto-generated immutable UUIDs for all records
- Persist data immediately on create/update

## Accessibility

- Color-coded indicators must also use text or icons (never color alone)
- All form fields must have labels
- All interactive elements must be keyboard-accessible
- WCAG AA color contrast minimum

## Performance

- Status updates reflected within 2 seconds
- Balance calculations within 2 seconds
- Form submissions within 5 seconds
- Lists must stay responsive at 1,000+ records (use pagination)

## Security

- Tenant data (name, phone, email) is PII -- no PII in logs
- All data over HTTPS
- No hardcoded credentials -- use environment variables
